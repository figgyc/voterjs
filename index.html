<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voter.js</title>
    <style>
        html {
            color: #ddd;
            background: #111111;
            font-family: Consolas, monospace !important;
        }
        input, button, textarea {
            background: black;
            color:white;
            border: 1px solid white;
            font-family: Consolas, monospace !important;
            font-size: 12pt;
        }

        input, button {
            min-height: 1.5em;
        }
        textarea {
            resize: none;
            height: 10em;
            width: 100%;
        }
        #responseA, #responseB, #yours, #progress {
            width: 50%;
        }

        progress[value]  {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border: 1px solid white;
            height: 1.5em;
            background-color:black;
        }

        progress::-webkit-progress-bar {
            background: black;
        }

        progress::-moz-progress-bar, progress::-webkit-progress-value {
            background-color: yellow
        }

        ul#reviewList {
            list-style-image: url("selector.svg");
        }

        @media(max-width: 800px) {
            #responseA, #responseB, #yours, #progress {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <h2>figgyc's Voter.js</h2>
    <div id="explanation">
        <small>additional thanks to <a href="https://stackoverflow.com/a/2878726/2758631">these</a> <a href="https://stackoverflow.com/a/40385425/2758631">two</a> whose code i took from stack overflow (cc-by sa 4), check out the <a href="https://github.com/figgyc/voterjs">source code</a>, also shoutout to 96 LB for the original voter.exe idea. send ideas/bugs to figgyc#0168 on Discord </small> <br />
        This tool lets you rank a set of things from best to worst. It's designed for competitions called <a href="https://discord.gg/kEDbDRm">TWOW</a>s and similar,
        but you could use it for anything you want really. Just paste or type all the things you want to vote on in the box!
        If you're doing a TWOW, make sure the letter and response are seperated with one or more tabs, or a space (pro tip: you can copy straight from Google Sheets), and click Go.
        Otherwise untick the box first.
        Note: the progress bar is an average, it might take less or it might take more then that but it should be about right! Don't worry if it's full and you're still not done.
        Ranking can take a while! Your progress is automatically saved, you can reload it by loading the "autosave" savestate, or save with a custom name if you want to come back after ranking something else! (This is stored on your computer using localStorage)
    </div>
    <textarea placeholder="Responses (one per line)" id="responses"></textarea> <br>
    <span id="letterFlagBox">
        <input id="yours" type="text" placeholder="Your response letter/line number(s) (optional, seperate with commas)" />
        <input type="checkbox" id="letter" name="letter" checked /> <label for="letter">Responses are input with letters at the start</label> 
        <input type="checkbox" id="wordcount" name="wordcount" checked /> <label for="wordcount">Show word count (may not always be 100% right, always double check)</label>
        <button id="go">Go</button> <button id="load">Load savestate</button> <br> <br>
    </span>

    <ul id="savestates" style="display: none">
    </ul>

    <div id="rank" style="display: none">
        <progress id="progress" value="0"></progress> <br>
        <button id="responseA" ></button><br>
        <button id="responseB" ></button><br>
        <button id="save">Save your progress</button><br>
    </div>

    <div id="review" style="display: none">
        <h2>Review your ranking</h2>
        <p>Always double check your list to ensure there are no outliers. You can drag around each response; on mobile, you might have to hold down a few seconds to drag instead of scroll.</p>
        <ul id="reviewList"></ul><br>
        <button id="done">Done</button>
    </div>

    <input type="text" id="output" hidden readonly />
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js" async></script>
    <script src="voter.js" async defer></script>
</body>
</html>